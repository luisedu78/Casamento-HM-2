<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Confirmar Presen√ßa ‚Äî Marilia & Huesley</title>
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>
  <nav>
  <div class="container inner">
    <div class="brand"><span class="badge">M ‚ô• H</span> Marilia &amp; Huesley</div>
    <button class="nav-toggle" aria-label="Abrir menu" aria-expanded="false" aria-controls="menu">‚ò∞</button>
<div class="menu" id="menu">
      <a href="index.html" >In√≠cio</a>
      <a href="cerimonia.html" >Cerim√¥nia</a>
      <a href="presentes.html" >Presentes</a>
      <a class="button primary" href="rsvp.html">Confirmar Presen√ßa</a>
    </div>
  </div>
</nav>
  <main class="section">
    <div class="container">
      <h2>Confirme sua Presen√ßa</h2>
      <form id="rsvp-form" class="grid" style="grid-template-columns:1fr 1fr; gap:16px; max-width:720px;">
        <label>Nome completo<br><input name="nome" required style="width:100%; padding:10px; border-radius:10px; border:1px solid #ddd;"></label>
        <label>Vai ao casamento?<br>
          <select name="vai" required style="width:100%; padding:10px; border-radius:10px; border:1px solid #ddd;">
            <option value="sim">Sim</option>
            <option value="nao">N√£o</option>
          </select>
        </label>
        <label>Adultos<br><input name="adultos" type="number" min="0" value="1" required style="width:100%; padding:10px; border-radius:10px; border:1px solid #ddd;"></label>
        <label>Crian√ßas<br><input name="criancas" type="number" min="0" value="0" required style="width:100%; padding:10px; border-radius:10px; border:1px solid #ddd;"></label>
        <label>E-mail<br><input name="email" type="email" required style="width:100%; padding:10px; border-radius:10px; border:1px solid #ddd;"></label>
        <label>WhatsApp<br><input name="whats" type="tel" placeholder="(00) 00000-0000" style="width:100%; padding:10px; border-radius:10px; border:1px solid #ddd;"></label>
        <label style="grid-column:1 / -1;">Observa√ß√µes<br><textarea name="obs" rows="4" style="width:100%; padding:10px; border-radius:10px; border:1px solid #ddd;"></textarea></label>
        <div style="grid-column:1 / -1; display:flex; gap:12px; align-items:center;">
          <input id="lgpd" type="checkbox" required>
          <label for="lgpd">Autorizo o uso dos meus dados para organiza√ß√£o do evento (LGPD).</label>
        </div>
        <button class="button primary" type="submit" style="grid-column:1 / -1; width:fit-content;">Enviar confirma√ß√£o</button>
      </form>
      <p id="rsvp-ok" style="display:none; margin-top:16px;" class="subtitle">Obrigado! Sua resposta foi registrada.</p>
    </div>
  </main>
  <footer class="footer">
  <div class="container">
    todos os direitos reservados ¬Æ
  </div>
</footer>
  <script  src="assets/app.js"></script>

  <div id="cookie-toast" class="cookie-toast" role="dialog" aria-live="polite">
    <div class="row">
      <svg class="cookie-ico" viewBox="0 0 24 24" fill="#C57C3D" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M21 12a9 9 0 1 1-9-9c.5 0 1 .04 1.47.12a3 3 0 0 0 3.99 3.99c.08.47.12.97.12 1.47A3 3 0 0 0 21 12Z"/><circle cx="9" cy="10" r="1.2" fill="#6B3D1E"/><circle cx="12.5" cy="7.5" r="1" fill="#6B3D1E"/><circle cx="14.5" cy="12.5" r="1.1" fill="#6B3D1E"/><circle cx="10.5" cy="14.5" r="0.9" fill="#6B3D1E"/></svg>
      <div style="flex:1">
        <strong>Cookies</strong><br>
        Usamos cookies essenciais para melhorar sua experi√™ncia.
      </div>
    </div>
    <div class="actions">
      <button id="cookie-accept" class="button primary" style="padding:8px 12px;">Aceitar</button>
      <button id="cookie-decline" class="button ghost" style="padding:8px 12px;">Recusar</button>
    </div>
  </div>


  <!-- EmailJS SDK -->
  <script src="https://cdn.emailjs.com/sdk/3.11.0/email.min.js"></script>
  <script>
    (function(){
      emailjs.init("OwiROCEjHB-aSxoZw");
    })();
  </script>


<script>
document.addEventListener('DOMContentLoaded', function(){
  const form = document.getElementById('rsvp-form');
  if(!form) return;
  const ok = document.getElementById('rsvp-ok');
  const wbox = document.getElementById('whats-ok');
  const wlink = document.getElementById('whats-link');

  form.addEventListener('submit', function(e){
    e.preventDefault();
    const data = {
      nome: (form.querySelector('[name="nome"]')||{}).value || '',
      email: (form.querySelector('[name="email"]')||{}).value || '',
      telefone: (form.querySelector('[name="telefone"]')||{}).value || '',
      qtd: (form.querySelector('[name="qtd"]')||{}).value || '',
      presenca: (form.querySelector('[name="presenca"]')||{}).value || '',
      msg: (form.querySelector('[name="msg"]')||{}).value || ''
    };

    emailjs.send("service_e9inkqh", "template_4gx4dy9", data)
      .then(function(){ 
        if(ok) ok.style.display = 'block';
        if (data.presenca === 'Sim' && wbox && wlink) {
          const texto = encodeURIComponent(
            `Ol√°, sou ${data.nome}! üíçüéâ\n` +
            `Estou confirmando minha presen√ßa para ${data.qtd} pessoa(s) no casamento da Mar√≠lia e do Huesley.\n\n` +
            `Mensagem: ${data.msg || '‚Äî'}`
          );
          wlink.href = "https://wa.me/5541998022655?text=" + texto;
          wbox.style.display = 'block';
        }
        form.reset();
      })
      .catch(function(err){ 
        alert("Erro ao enviar: " + (err && err.text ? err.text : JSON.stringify(err))); 
      });
  });
});
</script>

</body>
</html>